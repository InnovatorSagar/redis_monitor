{"ast":null,"code":"import _defineProperty from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/src/Components/FormComonent/FormComponent.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./FormComponent.css\";\nimport HeaderComponent from \"../HeaderComponent/HeaderComponent\";\nimport FormDataConfirmationModal from \"../ModalComponent/FormDataConfirmationModal\";\nimport { socket } from \"../../App.js\";\n\nvar FormComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormComponent, _Component);\n\n  function FormComponent(props) {\n    var _this;\n\n    _classCallCheck(this, FormComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormComponent).call(this, props));\n\n    _this.closeModal = function () {\n      _this.setState({\n        redirect: false\n      });\n    };\n\n    _this.validate = function () {\n      var validIpformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n      var emailvar = _this.state.email;\n      var databaseHostvar = _this.state.databaseHost;\n      var res = true;\n\n      if (emailvar.indexOf(\"@\") === -1) {\n        _this.setState({\n          email: \"\"\n        });\n\n        res = false;\n      }\n\n      if (!databaseHostvar.match(validIpformat)) {\n        _this.setState({\n          databaseHost: \"\"\n        });\n\n        res = false;\n      }\n\n      return res;\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      _this.setState({\n        redirect: false\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      var res = _this.validate();\n\n      _this.setState({\n        redirect: true\n      });\n\n      if (res) {\n        var data = {\n          name: _this.state.name,\n          email: _this.state.email,\n          thersholdMemory: _this.state.thersholdMemory,\n          thresholdCpuPerformance: _this.state.thresholdCpuPerformance,\n          thresholdNoOfClients: _this.state.thresholdNoOfClients,\n          organization: _this.state.organization,\n          port: _this.state.port,\n          thresholdHitRatio: _this.state.hitratiometric,\n          databasePass: _this.state.databasePass,\n          databaseHost: _this.state.databaseHost\n        };\n\n        _this.setState({\n          redirect: true\n        });\n\n        if (_this.state.haveData) socket.emit(\"update-user-config\", data, function (callback) {\n          if (callback != null) _this.setState({\n            sentData: true\n          });\n        });else socket.emit(\"user-config\", data, function (callback) {\n          if (callback) _this.setState({\n            sentData: true\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      thersholdMemory: \"\",\n      thresholdCpuPerformance: \"\",\n      thresholdNoOfClients: \"\",\n      hitratiometric: \"\",\n      organization: \"\",\n      port: \"\",\n      databasePass: \"\",\n      databaseHost: \"\",\n      redirect: false,\n      sentData: false,\n      haveData: false\n    };\n    return _this;\n  }\n\n  _createClass(FormComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      socket.emit(\"get-user-data\", function (callback) {\n        if (callback != null) {\n          _this2.setState({\n            name: callback.name,\n            email: callback.email,\n            thersholdMemory: callback.thersholdMemory,\n            thresholdCpuPerformance: callback.thresholdCpuPerformance,\n            thresholdNoOfClients: callback.thresholdNoOfClients,\n            hitratiometric: callback.thresholdHitRatio,\n            organization: callback.organization,\n            port: callback.port,\n            databasePass: callback.databasePass,\n            databaseHost: callback.databaseHost,\n            haveData: true\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"redirect\", this.state.sentData);\n      var button = \"Submit\";\n      if (this.state.haveData) button = \"Update\";\n      return React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(FormDataConfirmationModal, {\n        visible: this.state.redirect,\n        closeModal: this.closeModal,\n        sentData: this.state.sentData,\n        haveData: this.state.haveData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(HeaderComponent, {\n        heading: \"Database Configurations\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"DATABASE CONFIGURATIONS\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignPersonalText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Personal Information\"), React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this3.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Organisation:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        name: \"organization\",\n        value: this.state.organization,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"alignDatabaseText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Redis-Server Information\"), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Port:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        name: \"port\",\n        value: this.state.port,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Password:\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"inputfield\",\n        name: \"databasePass\",\n        value: this.state.databasePass,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"IP Address/ URL:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        name: \"databaseHost\",\n        value: this.state.databaseHost,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Memory Threshold:\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        placeholder: \"Set Memory Limit(Bytes)\",\n        name: \"thersholdMemory\",\n        value: this.state.thersholdMemory,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Number of Clients\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        placeholder: \"Set Limit of Clients\",\n        name: \"thresholdNoOfClients\",\n        value: this.state.thresholdNoOfClients,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, \"Performance Requirement\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        placeholder: \"Enter minimum Performance Required in Percent\",\n        name: \"thresholdCpuPerformance\",\n        value: this.state.thresholdCpuPerformance,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"alignInputText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Hit Ratio\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"inputfield\",\n        placeholder: \"Enter minimum Hit Ratio\",\n        name: \"hitratiometric\",\n        value: this.state.hitratiometric,\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      })), React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"cancel-btn\",\n        type: \"secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"Cancel\")), React.createElement(\"button\", {\n        className: \"submit-btn\",\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, button, \" >\")))));\n    }\n  }]);\n\n  return FormComponent;\n}(Component);\n\nexport default FormComponent;","map":{"version":3,"sources":["/home/sanchit_agarwal/rdbAlert/rdbalert/reactcharts/src/Components/FormComonent/FormComponent.js"],"names":["React","Component","Link","HeaderComponent","FormDataConfirmationModal","socket","FormComponent","props","closeModal","setState","redirect","validate","validIpformat","emailvar","state","email","databaseHostvar","databaseHost","res","indexOf","match","handleChange","event","target","name","value","handleSubmit","preventDefault","data","thersholdMemory","thresholdCpuPerformance","thresholdNoOfClients","organization","port","thresholdHitRatio","hitratiometric","databasePass","haveData","emit","callback","sentData","console","log","button","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./FormComponent.css\";\nimport HeaderComponent from \"../HeaderComponent/HeaderComponent\";\nimport FormDataConfirmationModal from \"../ModalComponent/FormDataConfirmationModal\";\nimport { socket } from \"../../App.js\";\n\nclass FormComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      thersholdMemory: \"\",\n      thresholdCpuPerformance: \"\",\n      thresholdNoOfClients: \"\",\n      hitratiometric: \"\",\n      organization: \"\",\n      port: \"\",\n      databasePass: \"\",\n      databaseHost: \"\",\n      redirect: false,\n      sentData: false,\n      haveData: false\n    };\n  }\n\n  closeModal = () => {\n    this.setState({ redirect: false });\n  };\n\n  validate = () => {\n    let validIpformat = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n    let emailvar = this.state.email;\n    let databaseHostvar = this.state.databaseHost;\n    let res = true;\n    if (emailvar.indexOf(\"@\") === -1) {\n      this.setState({ email: \"\" });\n      res = false;\n    }\n    if (!databaseHostvar.match(validIpformat)) {\n      this.setState({ databaseHost: \"\" });\n      res = false;\n    }\n\n    return res;\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n    this.setState({ redirect: false });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const res = this.validate();\n    this.setState({ redirect: true });\n    if (res) {\n      const data = {\n        name: this.state.name,\n        email: this.state.email,\n        thersholdMemory: this.state.thersholdMemory,\n        thresholdCpuPerformance: this.state.thresholdCpuPerformance,\n        thresholdNoOfClients: this.state.thresholdNoOfClients,\n        organization: this.state.organization,\n        port: this.state.port,\n        thresholdHitRatio: this.state.hitratiometric,\n        databasePass: this.state.databasePass,\n        databaseHost: this.state.databaseHost\n      };\n      this.setState({ redirect: true });\n      if (this.state.haveData)\n        socket.emit(\"update-user-config\", data, callback => {\n          if (callback != null)\n            this.setState({\n              sentData: true\n            });\n        });\n      else\n        socket.emit(\"user-config\", data, callback => {\n          if (callback) this.setState({ sentData: true });\n        });\n    }\n  };\n\n  componentDidMount() {\n    socket.emit(\"get-user-data\", callback => {\n      if (callback != null) {\n        this.setState({\n          name: callback.name,\n          email: callback.email,\n          thersholdMemory: callback.thersholdMemory,\n          thresholdCpuPerformance: callback.thresholdCpuPerformance,\n          thresholdNoOfClients: callback.thresholdNoOfClients,\n          hitratiometric: callback.thresholdHitRatio,\n          organization: callback.organization,\n          port: callback.port,\n          databasePass: callback.databasePass,\n          databaseHost: callback.databaseHost,\n          haveData: true\n        });\n      }\n    });\n  }\n  render() {\n    console.log(\"redirect\", this.state.sentData);\n    let button = \"Submit\";\n    if (this.state.haveData) button = \"Update\";\n    return (\n      <div className=\"form-container\">\n        <FormDataConfirmationModal\n          visible={this.state.redirect}\n          closeModal={this.closeModal}\n          sentData={this.state.sentData}\n          haveData={this.state.haveData}\n        />\n        <HeaderComponent heading=\"Database Configurations\" />\n        <h3>DATABASE CONFIGURATIONS</h3>\n        <hr />\n        <div className=\"form\">\n          <p className=\"alignPersonalText\">Personal Information</p>\n          <form onSubmit={e => this.handleSubmit(e)}>\n            <section>\n              <p className=\"alignInputText\">Name:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                name=\"name\"\n                value={this.state.name}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Email:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                name=\"email\"\n                value={this.state.email}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Organisation:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                name=\"organization\"\n                value={this.state.organization}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <p className=\"alignDatabaseText\">Redis-Server Information</p>\n            <section>\n              <p className=\"alignInputText\">Port:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                name=\"port\"\n                value={this.state.port}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Password:</p>\n              <input\n                type=\"password\"\n                className=\"inputfield\"\n                name=\"databasePass\"\n                value={this.state.databasePass}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">IP Address/ URL:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                name=\"databaseHost\"\n                value={this.state.databaseHost}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Memory Threshold:</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                placeholder=\"Set Memory Limit(Bytes)\"\n                name=\"thersholdMemory\"\n                value={this.state.thersholdMemory}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Number of Clients</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                placeholder=\"Set Limit of Clients\"\n                name=\"thresholdNoOfClients\"\n                value={this.state.thresholdNoOfClients}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Performance Requirement</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                placeholder=\"Enter minimum Performance Required in Percent\"\n                name=\"thresholdCpuPerformance\"\n                value={this.state.thresholdCpuPerformance}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <p className=\"alignInputText\">Hit Ratio</p>\n              <input\n                type=\"text\"\n                className=\"inputfield\"\n                placeholder=\"Enter minimum Hit Ratio\"\n                name=\"hitratiometric\"\n                value={this.state.hitratiometric}\n                onChange={e => this.handleChange(e)}\n                required\n              />\n            </section>\n            <section>\n              <Link to=\"/\">\n                <button className=\"cancel-btn\" type=\"secondary\">\n                  Cancel\n                </button>\n              </Link>\n              <button\n                className=\"submit-btn\"\n                type=\"submit\"\n                onClick={this.handleSubmit}\n              >\n                {button} >\n              </button>\n            </section>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\nexport default FormComponent;\n"]},"metadata":{},"sourceType":"module"}